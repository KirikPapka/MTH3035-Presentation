<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>MTH3035 Group Project – Final Presentation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://unpkg.com/reveal.js/dist/reveal.css" />
  <link rel="stylesheet" href="https://unpkg.com/reveal.js/dist/theme/black.css" id="theme">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
            onload="renderMathInElement(document.body);"></script>

  <style>
    :root {
      --bg:       #0D1B2A;   
      --card-bg:  #1B263B;   
      --primary:  #3A86FF;   
      --accent:   #FFBE0B;   
      --text:     #F1F3F5;   
      --muted:    #9DA3AF;   


    }

    .reveal .slides section.top-left {
        display: flex !important;
        align-items: flex-start !important;
        justify-content: flex-start !important;
    }

    .top-left > div {
        align-self: flex-start !important;
    }

    body {
      font-family: "Inter", sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    .reveal {
      color: var(--text);
    }

    .reveal .slides {
      text-align: left;
    }

    .title-slide h1 {
      font-size: 2.8em;
      font-weight: 700;
      margin-bottom: 0.2em;
      color: var(--primary);
    }

    .title-slide h3 {
      font-size: 1.3em;
      font-weight: 400;
      color: var(--muted);
      margin-bottom: 0.8em;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 0.5em;
      padding: 0.35em 1em;
      border-radius: 999px;
      background: rgba(58, 134, 255, 0.15);
      color: var(--primary);
      font-size: 0.75em;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      font-weight: 600;
    }

    .pill-dot {
      width: 0.5em;
      height: 0.5em;
      border-radius: 50%;
      background: var(--accent);
    }

    .meta {
      margin-top: 1.2em;
      font-size: 0.9em;
      color: var(--muted);
    }

    .two-col {
      display: grid;
      grid-template-columns: 1.1fr 1.1fr;
      gap: 2.5rem;
      align-items: start;
    }

    .card {
      background: var(--card-bg);
      border-radius: 1.2rem;
      padding: 1.5rem 1.7rem;
      box-shadow: 0 10px 30px rgba(0,0,0,0.35);
      border: 1px solid rgba(255,255,255,0.05);
    }

    .card-header {
      font-size: 0.8em;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--muted);
      margin-bottom: 0.5rem;
      font-weight: 600;
    }

    .card-title {
      font-size: 1.15em;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 0.6rem;
    }

    .reveal h2 {
      font-size: 1.8em;
      color: var(--primary);
      margin-bottom: 0.2em;
    }

    .reveal h3 {
      font-size: 1.1em;
      color: var(--muted);
      font-weight: 500;
      margin-top: 0.2em;
      margin-bottom: 0.8em;
    }

    .tag-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5em;
      margin-top: 0.6em;
    }

    .tag {
      font-size: 0.72em;
      padding: 0.3em 0.7em;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      color: var(--muted);
    }

    .plot-placeholder {
      width: 100%;
      height: 280px;
      border-radius: 1rem;
      background: linear-gradient(135deg, #1F2B45, #0D1B2A);
      position: relative;
      border: 1px solid rgba(255,255,255,0.09);
      box-shadow: inset 0 0 30px rgba(0,0,0,0.4);
    }

    .plot-placeholder::before,
    .plot-placeholder::after {
      content: "";
      position: absolute;
      inset: 12% 8%;
      border-radius: 0.7rem;
      border-left: 2px solid rgba(255,255,255,0.25);
      border-bottom: 2px solid rgba(255,255,255,0.25);
    }

    .plot-placeholder::after {
      inset: 20% 16%;
      border-left: 2px solid rgba(255,255,255,0.15);
      border-bottom: 2px solid rgba(255,255,255,0.15);
      transform: skewX(-10deg);
    }

    .plot-caption {
      position: absolute;
      left: 1rem;
      bottom: 0.8rem;
      font-size: 0.7em;
      color: var(--muted);
    }

    .axis-label-x, .axis-label-y {
      position: absolute;
      font-size: 0.75em;
      color: var(--muted);
    }

    .axis-label-x { bottom: 0.5rem; right: 2rem; }
    .axis-label-y {
      top: 1.1rem; left: 0.4rem;
      transform: rotate(-90deg);
    }

    .reveal .progress span {
      background: var(--primary);
    }

    .reveal .controls .navigate-right,
    .reveal .controls .navigate-left,
    .reveal .controls .navigate-up,
    .reveal .controls .navigate-down {
      color: var(--primary);
    }

    .centered { text-align: center; }

    .btn-outline {
      display: inline-flex;
      align-items: center;
      gap: 0.5em;
      padding: 0.55em 1.3em;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.2);
      font-size: 0.85em;
      margin-top: 1em;
      color: var(--muted);
    }

    .btn-outline .icon {
      width: 1.6em; height: 1.6em;
      border-radius: 999px;
      background: rgba(58,134,255,0.2);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: var(--primary);
    }

  </style>
</head>


<body>
  <div class="reveal">
    <div class="slides">

      <!-- SLIDE 1: TITLE -->
        <section class="title-slide" data-transition="fade" style="display: flex; justify-content: flex-start; align-items: flex-start;">

        <div style="margin-top: 1rem; margin-left: 1.2rem; max-width: 70%;">

            <div class="pill" style="font-size: 0.55em; padding: 0.2em 0.6em;">
            <div class="pill-dot"></div>
            MTH3035 · Mathematics Group Project
            </div>

            <h1 style="
                font-size: 1.4em;
                line-height: 1.25;
                margin-top: 1rem;
                max-width: 95%;
            ">
            A Single-Column Model for the Numerical Modelling of the Atmospheric Boundary Layer
            </h1>

            <h3 style="
                font-size: 0.9em;
                margin-top: 0.4rem;
                color: var(--muted);
            ">
            Group 7A
            </h3>

            <div class="meta" style="font-size: 0.75em; margin-top: 0.3rem;">
            <p><strong>Adviser:</strong> Georgios Efstathiou</p>
            <p><span class="muted">
                University of Exeter · Department of Mathematics and Statistics · 2025
            </span></p>
            </div>

        </div>

        <!-- QR CODE AREA -->
        <div style="
            position: absolute;
            right: 2rem;
            top: 2rem;
            width: 400px;
            height: 400px;
            border-radius: 0.5rem;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--muted);
            font-size: 0.7em;
            ">
            <img src="adobe-express-qr-code1.png"
                alt="Presentation QR Code"
                style="width: 100%; height: 100%; object-fit: contain;">
        </div>

        <div style="
            position: absolute;
            right: 2.1rem;
            top: 31rem;
            font-size: 0.7em;
            color: var(--accent);
            ">
            <a href="https://KirikPapka.github.io/MTH3035-Presentation/FinalPres.html" target="_blank" style="color: var(--accent);">
            https://KirikPapka.github.io/MTH3035-Presentation/FinalPres.html
            </a>
        </div>


        </section>

    <!-- EXPERIENCE IT FOR YOURSELF SLIDE -->
        <section data-transition="fade" class="top-left">
 
        <div style="margin-top: 1rem; margin-left: 1.2rem; max-width: 60%;">

            <h2 style="font-size: 1.3em; margin-bottom: 0.4rem; color: var(--primary);">
            Experience it for Yourself
            </h2>


            <p style="margin-top: 0.6rem;">
            <a href="https://kirikpapka.github.io/abl-visualisation/"
                target="_blank"
                style="color: var(--accent); font-size: 0.9em; text-decoration: none;">
                https://kirikpapka.github.io/abl-visualisation/
            </a>
            </p>

            <div style="
                margin-top: 0.9rem;
                width: 300px;
                height: 300px;
                border-radius: 0.5rem;
                background: rgba(255,255,255,0.07);
                border: 1px solid rgba(255,255,255,0.15);
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 6px;
            ">
            <img src="QRforPresentation.png"
                alt="Interactive Visualisation QR Code"
                style="width: 100%; height: 100%; object-fit: contain;">
            </div>

            <div style="font-size: 0.7em; color: var(--muted); margin-top: 0.3rem;">
            Scan to open on your phone
            </div>

        </div>

        <div style="
            margin-top: 1.2rem;
            margin-left: 2rem;
            max-width: 100%;
        ">
            <div style="
                border-radius: 0.9rem;
                background: rgba(255,255,255,0.04);
                border: 1px solid rgba(255,255,255,0.12);
                padding: 0.6rem;
                box-shadow: 0 10px 30px rgba(0,0,0,0.35);
            ">

            <img src="Demo.png"
                alt="Atmospheric Boundary Layer Visualisation"
                style="width: 100%; height: auto; border-radius: 0.6rem; display: block;">
            </div>

            <div style="font-size: 0.7em; color: var(--muted); margin-top: 0.4rem;">
            Screenshot from the interactive ABL visualisation
            </div>
        </div>

        </section>




      <!-- SLIDE 2: OVERVIEW -->
        <section data-transition="fade" class="top-left" style="position: relative;">

        <div style="
            position: absolute;
            top: 0.4rem;
            left: 8.0rem;
            z-index: 50;
        ">
            <h2 style="margin-bottom: 0.4rem;">Overview</h2>
            <h3 style="font-size: 0.9em; color: var(--muted); margin-bottom: 0.6rem;">
  Motivation and Project aims
    </h3>
        </div>

        <div style="
            margin-top: 3.4rem;        /* pushes content below the title safely */
            display: flex;
            flex-direction: row;
            gap: 1rem;
            width: 100%;
            align-items: flex-start;
        ">

        <div style="flex: 1;">
        <div style="margin-top: 6.5rem;">
        <svg width="600" height="440" viewBox="0 0 600 440" fill="none"
            xmlns="http://www.w3.org/2000/svg"
            style="opacity: 0.95; filter: drop-shadow(0 0 16px rgba(255,190,11,0.35));">

            <circle cx="300" cy="220" r="105" fill="#FFBE0B" opacity="0.9"/>

            <g stroke="#FFBE0B" stroke-width="14" stroke-linecap="round" opacity="0.55">
            <line x1="300" y1="65" x2="300" y2="20"/>
            <line x1="300" y1="375" x2="300" y2="420"/>

            <line x1="200" y1="120" x2="150" y2="85"/>
            <line x1="400" y1="120" x2="450" y2="85"/>

            <line x1="200" y1="310" x2="150" y2="345"/>
            <line x1="400" y1="310" x2="450" y2="345"/>
            </g>

            <path d="M40 350 L230 150 L380 350 Z"
                fill="rgba(255,255,255,0.10)"
                stroke="rgba(255,255,255,0.22)"
                stroke-width="5"/>

            <path d="M260 350 L430 170 L560 350 Z"
                fill="rgba(255,255,255,0.10)"
                stroke="rgba(255,255,255,0.22)"
                stroke-width="5"/>

            <rect x="20" y="345" width="560" height="20"
                fill="rgba(255,255,255,0.12)" rx="6"/>
        </svg>
        </div>

            </div>

            <div style="flex: 1; display: flex; flex-direction: column; gap: 1rem;">

            <div class="card" style="padding: 0.8rem 1rem; font-size: 1em;">

                <div class="card-title" style="font-size: 1em;">Why this matters</div>
                <ul style="font-size: 0.85em; margin-top: 0.4rem;">
                <li>Morning ABL transition is difficult to model.</li>
                <li>Controls pollution, turbulence & heat exchange.</li>
                <li>Driven strongly by stability & wind shear.</li>
                <li>Essential for weather & climate modelling.</li>
                </ul>
            </div>

            <div class="card" style="padding: 0.8rem 1rem; font-size: 1em;">
                <div class="card-title" style="font-size: 1em;">What we set out to do</div>
                <ul style="font-size: 0.85em; margin-top: 0.4rem;">
                <li>Validate the 1DBL model.</li>
                <li>Evaluate sensitivity to early-morning stability.</li>
                <li>Evaluate sensitivity to geostrophic wind.</li>
                </ul>
            </div>

            </div>

        </div>

        </section>

      <!-- SLIDE 3: BACKGROUND -->
        <section data-transition="fade" style="position: relative; height: 100%; width: 100%;">

        <div style="position: absolute; top: -700px; left: 20px;">
            <h2 style="margin: 0;">Physical Background</h2>
            <h3 style="font-size: 0.9em; color: var(--muted); margin-top: 4px;">
            Morning growth of the convective boundary layer (CBL)
            </h3>
        </div>

        <div style="position: absolute; top: -550px; left: 20px;">
            <svg width="600" height="500" viewBox="0 0 600 500" fill="none"
                xmlns="http://www.w3.org/2000/svg"
                style="opacity: 0.9; filter: drop-shadow(0 0 14px rgba(255,190,11,0.35));">

            <!-- Ground -->
            <rect x="0" y="420" width="600" height="50" 
                    fill="rgba(255,255,255,0.08)" stroke="rgba(255,255,255,0.15)" stroke-width="2"/>

            <!-- Stable boundary layer -->
            <rect x="0" y="340" width="600" height="80"
                    fill="rgba(255,255,255,0.06)" stroke="rgba(255,255,255,0.1)" stroke-width="2"/>

            <!-- Convective boundary layer -->
            <rect x="0" y="170" width="600" height="170"
                    fill="rgba(255,255,255,0.03)" stroke="rgba(255,255,255,0.12)" stroke-width="2"/>

            <!-- Inversion -->
            <line x1="0" y1="170" x2="600" y2="170"
                    stroke="rgba(255,255,255,0.35)" stroke-width="4"/>

            <!-- Entrainment arrow -->
            <line x1="300" y1="140" x2="300" y2="170"
                    stroke="#FFBE0B" stroke-width="10" stroke-linecap="round"/>
            <polygon points="300,130 285,150 315,150" fill="#FFBE0B"/>

            <!-- Heat flux arrow -->
            <line x1="300" y1="420" x2="300" y2="360"
                    stroke="#FFBE0B" stroke-width="10" stroke-linecap="round"/>
            <polygon points="300,350 285,375 315,375" fill="#FFBE0B"/>

            <!-- Sunrise glow -->
            <circle cx="300" cy="360" r="55" fill="#FFBE0B" opacity="0.35"/>

            <!-- Labels -->
            <text x="12" y="330" fill="#F1F3F5" font-size="40">SBL</text>
            <text x="12" y="200" fill="#F1F3F5" font-size="40">CBL</text>
            <text x="12" y="160" fill="#F1F3F5" font-size="40">Inversion</text>
            <text x="12" y="410" fill="#F1F3F5" font-size="40">Surface layer</text>

            </svg>
        </div>

        <div
            class="card"
            style="
            position: absolute;
            top: -500px;
            right: 50px;
            width: 700px;
            padding: 14px 18px;
            font-size: 0.88em;
            ">
            

            <div class="card-title" style="font-size: 1.05em;">Morning CBL Growth</div>

            <ul style="margin-top: 12px;">
                <li>Overnight, a stable boundary layer (SBL) forms due to radiative cooling.</li>
                <li>After sunrise, surface heating erodes the SBL and the CBL grows.</li>
                <!--
                <li>Growth controlled by:
                <ul>
                    <li>Buoyancy from surface heat flux</li>
                    <li>Wind shear generating turbulence</li>
                    <li>Entrainment at the inversion</li>
                </ul>
                </li>-->
                <li>Transition is sensitive to early-morning temperature structure.</li>
                <!--
                <li>1DBL model represents:
                <ul>
                    <li>Vertical heat transport</li>
                    <li>Turbulence parameterisation</li>
                    <li>Surface forcing & geostrophic wind</li>
                </ul>
                </li>-->
                <li>Goal: capture ABL growth and its dependence on initial stratification and wind.</li>
            </ul>

        </div>

        </section>

      <!-- SLIDE 4: MATHEMATICAL MODEL -->
        <section data-transition="fade"
                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">

        <div style="position: absolute; top: 20px; left: 20px;">
            <h2 style="margin: 0;">Mathematical Model</h2>
            
            <h3 style="font-size: 0.9em; color: var(--muted); margin-top: 4px;">
            1D column model for potential temperature
            </h3>
            
        </div>

        <div style="position: absolute; top: 210px; left: -50px;">
            <svg width="1000" height="720" viewBox="0 0 1000 720" fill="none"
                xmlns="http://www.w3.org/2000/svg"
                style="opacity: 0.95; filter: drop-shadow(0 0 12px rgba(255,190,11,0.35));">

            <!-- Column outline -->
            <rect x="100" y="50" width="300" height="450"
                    fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.15)" stroke-width="2"/>

            <!-- Mixed Layer (CBL) -->
            <rect x="100" y="180" width="300" height="230"
                    fill="rgba(255,255,255,0.06)" stroke="rgba(255,255,255,0.1)" stroke-width="2"/>
            <text x="105" y="210" fill="#F1F3F5" font-size="40">CBL</text>

            <!-- Inversion -->
            <line x1="100" y1="180" x2="400" y2="180"
                    stroke="rgba(255,255,255,0.4)" stroke-width="4"/>
            <text x="105" y="170" fill="#F1F3F5" font-size="40">Inversion</text>

            <!-- Heat flux arrow -->
            <line x1="250" y1="500" x2="250" y2="450"
                    stroke="#FFBE0B" stroke-width="10" stroke-linecap="round"/>
            <polygon points="250,440 235,465 265,465" fill="#FFBE0B"/>
            <text x="110" y="555" fill="#FFBE0B" opacity="0.7" font-size="40">Surface flux</text>

            <!-- Turbulent flux symbol inside CBL -->
            <path d="M250 270 q-20 -20 0 -40 q20 -20 0 -40"
                    stroke="#3A86FF" stroke-width="6" fill="none" opacity="0.7"/>

            <!-- Gridlines (subtle) -->
            <line x1="100" x2="400" y1="300" y2="300"
                    stroke="rgba(255,255,255,0.05)" stroke-width="2"/>
            <line x1="100" x2="400" y1="380" y2="380"
                    stroke="rgba(255,255,255,0.05)" stroke-width="2"/>

            </svg>
        </div>

        <div style="
            position: absolute;
            top: 150px;
            left: 400px;
            font-size: 1.2em;
            color: var(--text);
        ">
            $$\frac{\partial \theta}{\partial t}
            = -\frac{\partial}{\partial z}\bigl(w'\theta'\bigr), \qquad
            w'\theta' = -K_h\,\frac{\partial \theta}{\partial z}$$
        </div>

        <div style="position: absolute; top: 350px; right: 140px; width: 900px;">

            <div class="card" style="padding: 0.9rem 1.1rem; font-size: 0.85em; margin-bottom: 1rem;">
            <div class="card-title" style="font-size: 1.05em;">Advection–Diffusion Framework</div>

            <p style="margin-top: 6px;">
                The 1D model evolves the potential temperature profile θ(z,t) via:
            </p>



            <ul style="margin-top: 6px;">
                <li><strong>Kₕ(z,t)</strong> – eddy diffusivity (stability + wind shear dependent).</li>
                <li>Represents unresolved turbulent transport.</li>
                <li>Surface heat flux provides the buoyancy source.</li>
            </ul>
            </div>

            <!-- Boundary & initial conditions card 
            <div class="card" style="padding: 0.9rem 1.1rem; font-size: 0.85em;">
            <div class="card-header" style="font-size: 0.75em;">Boundary & Initial Conditions</div>

            <ul style="margin-top: 6px;">
                <li>Initial θ(z): early-morning stable stratification with inversion.</li>
                <li>Lower boundary: prescribed surface heat flux.</li>
                <li>Upper boundary: zero flux / fixed free-tropospheric θ.</li>
                <li>CBL height diagnosed from inversion position.</li>
            </ul>

            <div class="tag-row" style="margin-top: 6px;">
                <span class="tag">1D column</span>
                <span class="tag">Vertical diffusion</span>
                <span class="tag">Surface flux forcing</span>
            </div>
            </div>

            -->

        </div>

        </section>

      <!-- SLIDE 5: NUMERICAL METHOD -->
        <section data-transition="fade"
                style="position:absolute; top:0; left:0; width:100%; height:100%;">

        <div style="position:absolute; top:20px; left:20px;">
            <h2 style="margin:0;">Computational Method</h2>
            <h3 style="font-size:0.9em; color:var(--muted); margin-top:4px;">
            Software Structure
            </h3>
        </div>

        <div style="position:absolute; top:75px; left:-50px; width:100%; height:100%;">
            <svg viewBox="0 0 900 520"
                preserveAspectRatio="xMidYMid meet"
                style="width:100%; height:100%; opacity:0.95;
                        filter:drop-shadow(0 0 10px rgba(255,255,255,0.12));">
                xmlns="http://www.w3.org/2000/svg"
                style="opacity:0.95; filter:drop-shadow(0 0 10px rgba(255,255,255,0.15));">

            <style>
                .nn-box {
                fill: rgba(255,255,255,0.05);
                stroke: rgba(255,255,255,0.25);
                stroke-width: 2;
                rx: 14;
                }
                .nn-title {
                fill: #ffffff;
                font-size: 18px;
                font-family: Inter, system-ui, sans-serif;
                font-weight: bold;
                }
                .nn-files {
                fill: #9DA3AF;
                font-size: 12px;
                font-family: Inter, system-ui, sans-serif;
                }
                .nn-arrow {
                stroke: #FFBE0B;
                stroke-width: 5;
                marker-end: url(#nn-arrowhead);
                }
            </style>

            <defs>
                <marker id="nn-arrowhead"
                        markerWidth="3" markerHeight="3"
                        refX="2" refY="1.5"
                        orient="auto">
                    <polygon points="0 0, 3 1.5, 0 3" fill="#FFBE0B"/>
                </marker>
            </defs>

            <rect x="40" y="40" width="230" height="110" class="nn-box" />
            <text x="55" y="65" class="nn-title">Config &amp; Vertical Grid</text>
            <text x="55" y="90" class="nn-files">
                nml_1d_bl, params.inc
            </text>
            <text x="55" y="108" class="nn-files">
                vert_levs.f90, vert_levs.pro
            </text>

            <rect x="40" y="180" width="230" height="140" class="nn-box" />
            <text x="55" y="205" class="nn-title">Initial Fields</text>
            <text x="55" y="230" class="nn-files">
                init_theta.f90, init_wind.f90, 
            </text>
            <text x="55" y="248" class="nn-files">
                pressure_from_theta.f90, rh_z.f90
            </text>
            <text x="55" y="266" class="nn-files">
                lcl_from_Tq.f90, init_qv.f90
            </text>

            <rect x="335" y="70" width="260" height="140" class="nn-box" />
            <text x="350" y="95" class="nn-title">Turbulence &amp; Fluxes</text>
            <text x="350" y="120" class="nn-files">
                calculate_diffusion.f90, 
            </text>
            <text x="350" y="138" class="nn-files">
                calc_fluxes.f90, calculate_diffusion_tke.f90
            </text>
            <text x="350" y="156" class="nn-files">
                set_fluxes.f90, set_fluxes_l.f90
            </text>
            <text x="350" y="174" class="nn-files">
                shallow_conv_adj*.f90, non_gradient.f90
            </text>
            <text x="350" y="192" class="nn-files">
                calc_coriolis.f90, diff_cbl.f90
            </text>

            <rect x="335" y="250" width="260" height="130" class="nn-box" />
            <text x="350" y="275" class="nn-title">Implicit Solver Core</text>
            <text x="350" y="300" class="nn-files">
                implicit_solver*.f90, implicit_solver_th.f90
            </text>
            <text x="350" y="318" class="nn-files">
                implicit_solver_flux*.f90
            </text>
            <text x="350" y="336" class="nn-files">
                tridag.f90, solver.f90
            </text>
            <text x="350" y="354" class="nn-files">
                implicit_solver_flux_th.f90
            </text>

            <rect x="360" y="410" width="210" height="80" class="nn-box" />
            <text x="375" y="435" class="nn-title">Time Integration Loop</text>
            <text x="375" y="458" class="nn-files">
                1d_bl.f90, time_integration.f90, 
            </text>
            <text x="375" y="476" class="nn-files">
                run_exe
            </text>

            <rect x="660" y="120" width="210" height="120" class="nn-box" />
            <text x="675" y="145" class="nn-title">Diagnostics &amp; Output</text>
            <text x="675" y="170" class="nn-files">
                bl_depth.f90
            </text>
            <text x="675" y="188" class="nn-files">
                output/
            </text>
            <text x="675" y="206" class="nn-files">
                pressure, θ profiles, winds, fluxes
            </text>

            <rect x="660" y="290" width="210" height="140" class="nn-box" />
            <text x="675" y="315" class="nn-title">Sensitivity Analysis</text>
            <text x="675" y="340" class="nn-files">
                diff_cbl.f90, comp_run.scr
            </text>
            <text x="675" y="358" class="nn-files">
                init.ipynb → sensitivity plots
            </text>
            <text x="675" y="376" class="nn-files">
                (θ, wind, flux perturbations)
            </text>

            <!-- Config & Grid → Turbulence & Fluxes -->
            <line x1="270" y1="95" x2="335" y2="110" class="nn-arrow" />

            <!-- Initial Fields → Turbulence & Fluxes -->
            <line x1="270" y1="230" x2="335" y2="185" class="nn-arrow" />

            <!-- Turbulence & Fluxes → Implicit Solver Core -->
            <line x1="465" y1="210" x2="465" y2="250" class="nn-arrow" />

            <!-- Implicit Solver Core → Time Integration Loop -->
            <line x1="465" y1="380" x2="465" y2="410" class="nn-arrow" />

            <!-- Time Integration Loop → Diagnostics & Output -->
            <line x1="570" y1="430" x2="660" y2="210" class="nn-arrow" />

            <!-- Time Integration Loop → Sensitivity Experiments -->
            <line x1="570" y1="460" x2="660" y2="340" class="nn-arrow" />

            <!-- Feedback: Diagnostics → Sensitivity (optional) -->
            <line x1="765" y1="240" x2="765" y2="290" class="nn-arrow" />

            </svg>
        </div>

         <!-- 
        <div class="card"
            style="
                position:absolute;
                top:120px;
                right:100px;
                width:600px;
                padding:1rem 1.2rem;
                font-size:0.88em;
            ">

            <div class="card-header" style="font-size:0.75em;">Summary of Method</div>

            <ul style="margin-top:6px; line-height:1.4;">
            <li>Column discretised into vertical levels (finite differences).</li>
            <li>θ updated with diffusion-based PDE solver.</li>
            <li>Turbulent mixing computed via first-order closure (K-theory).</li>
            <li>Surface heat flux provides lower-boundary forcing.</li>
            <li>Top boundary: zero flux or entrainment adjustment.</li>
            <li>All components feed into each timestep simultaneously.</li>
            <li>CBL height diagnosed from sharp gradient in θ.</li>
            </ul>

            <div class="tag-row" style="margin-top:8px;">
            <span class="tag">Finite Differences</span>
            <span class="tag">Turbulence Scheme</span>
            <span class="tag">Boundary Forcing</span>
            <span class="tag">Time Integration</span>
            </div>

        </div>
    -->
        </section>

      <!-- SLIDE 6: RESULTS – KEY FIGURE 1 -->
      <section data-transition="fade">
        <h2>Results I – Temperature Profile</h2>
        <h3>Potential temperature profiles through the morning</h3>

        <div class="two-col">
          <div class="two-col" style="align-items:center;">

            <div class="card"
                style="
                    width:600px;
                    height:600px;
                    display:flex;
                    flex-direction:column;
                    justify-content:flex-start;
                    padding:1rem;
                ">

                <div class="card-header">Model output</div>

                <div style="
                    flex:1;
                    display:flex;
                    justify-content:center;
                    align-items:center;
                    overflow:hidden;">
                
                <img src="pot_temp_0450.svg"
                    style="max-width:100%; max-height:100%; border-radius:1rem;">
                </div>

            </div>

            </div>

          <div class="card">
            <!--
            <div class="card-header">Key message</div>
            <div class="card-title">Our model reproduces realistic morning growth</div>
          -->
            <ul>
              <li>The model captures the morning inversion around 200–300 m.</li>
              <li>Potential temperature in the mixed layer shows good agreement with observations</li>
              <li>Near-surface temperatures differ, suggesting weaker early-morning mixing</li>
              <li>Observed wind shows strong shear and nocturnal-jet remnants, whereas the model wind is uniform.</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- SLIDE 7: RESULTS – KEY FIGURE 2 -->
      <section data-transition="fade">
        <h2>Results II – Sensitivity Experiments</h2>


        <div class="two-col" style="align-items:center;">

            <div class="card"
                style="
                    width:600px;        /* CHANGE THIS to resize */
                    height:750px;       /* CHANGE THIS to resize */
                    padding:1rem;
                    display:flex;
                    flex-direction:column;
                    justify-content:flex-start;
                ">

                <div class="card-header">Vertical profile of w(z)</div>

                <div style="
                    flex:1;
                    display:flex;
                    justify-content:center;
                    align-items:center;
                    overflow:hidden;
                    ">
                <img src="W.png"
                    alt="Vertical velocity profile"
                    style="
                        max-width:100%;
                        max-height:100%;
                        border-radius:1rem;
                    ">
                </div>

            </div>



          <div class="card">
            <ul>
              <li>Stronger early-morning stability delays CBL growth and keeps the inversion stronger for longer.</li>
              <li>Weaker stability produces faster erosion of the nocturnal layer and deeper CBLs.</li>
              <li>Wind sensitivity shows enhanced mixing at higher Vg, but the effect is secondary to stability changes.</li>
              <li>Model behaviour matches theoretical expectations and supports its validity for morning-transition studies.</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- SLIDE 8: INTERPRETATION -->
        <section data-transition="fade"
                style="position:absolute; top:0; left:0; width:100%; height:100%;">

        <div style="position:absolute; top:20px; left:20px;">
            <h2>Interpretation</h2>
            <h3 style="font-size:0.9em; color:var(--muted); margin-top:4px;">
            How do our results compare to literature and expectations?
            </h3>
        </div>

        <div style="position:absolute; top:120px; left:20px;">
        <svg width="900" height="900" viewBox="0 0 900 900"
            xmlns="http://www.w3.org/2000/svg"
            style="opacity:0.95; filter:drop-shadow(0 0 10px rgba(255,255,255,0.15));">

            <g transform="scale(1.5) translate(0, -30)">

            <style>
                .box {
                fill: rgba(255,255,255,0.05);
                stroke: rgba(255,255,255,0.25);
                stroke-width: 2;
                }
                .label {
                fill: #F1F3F5;
                font-size: 20px;   /* This will scale to 32px automatically */
                font-family: Inter, sans-serif;
                }
                .inv-line {
                stroke: #FFBE0B;
                stroke-width: 4;
                }
            </style>

            <!-- Weak Stability column -->
            <rect x="40" y="120" width="140" height="280" class="box"/>
            <line x1="40" y1="180" x2="180" y2="180" class="inv-line"/>
            <text x="55" y="170" class="label">Inversion</text>
            <text x="45" y="420" class="label">Weak Stability</text>

            <!-- Strong Stability column -->
            <rect x="260" y="220" width="140" height="180" class="box"/>
            <line x1="260" y1="250" x2="400" y2="250" class="inv-line"/>
            <text x="270" y="240" class="label">Inversion</text>
            <text x="260" y="420" class="label">Strong Stability</text>

            <!-- Arrows -->
            <line x1="200" y1="120" x2="200" y2="400"
                    stroke="#3A86FF" stroke-width="3" marker-end="url(#arrow)" />

            <line x1="420" y1="220" x2="420" y2="400"
                    stroke="#3A86FF" stroke-width="3" marker-end="url(#arrow)" />

            <!-- Arrow marker -->
            <defs>
                <marker id="arrow" markerWidth="6" markerHeight="6"
                        refX="3" refY="3" orient="auto">
                <polygon points="0 0, 6 3, 0 6" fill="#3A86FF"/>
                </marker>
            </defs>

            </g>
        </svg>
        </div>

        <div class="card"
            style="position:absolute; top:220px; right:-40px; width:700px;
                    padding:1rem 1.2rem; font-size:0.88em;">

            <div class="card-header" style="font-size:0.75em;">Summary Interpretation</div>

            <ul style="margin-top:6px; line-height:1.4;">
            <li>The model captures expected morning CBL growth behaviour.</li>
            <li>Weak stability → rapid deepening; strong stability → delayed mixing.</li>
            <li>Stability dominates morning CBL evolution; wind plays secondary role.</li>
            <li>Results align with analytical scaling laws and typical observational studies.</li>
            </ul>

        </div>

        </section>



      <!-- SLIDE 10: CONCLUSIONS -->
        <section data-transition="fade"
                style="position:absolute; top:0; left:0; width:100%; height:100%;">

        <div style="position:absolute; top:20px; left:20px;">
            <h2>Conclusions</h2>
            <h3 style="font-size:0.9em; color:var(--muted); margin-top:4px;">
            Key takeaways from the 1D boundary-layer experiments
            </h3>
        </div>

        <div class="card"
            style="position:absolute; top:180px; left:20px; width:600px;
                    padding:1rem 1.2rem; font-size:0.95em;">

            <ul style="margin-top:6px; line-height:1.45;">
            <li>Model reproduces the main mechanisms of the morning CBL transition.</li>
            <li>Sensitivity tests confirm theory: <strong>stability dominates</strong>, wind plays a secondary role.</li>
            <li>Remaining biases indicate opportunities for improving turbulence and surface-flux parameterisations.</li>
            </ul>
        </div>

        <div style="position:absolute; top:180px; right:-200px;">
            <svg width="1000" height="1000" viewBox="0 0 800 800"
                xmlns="http://www.w3.org/2000/svg"
                style="opacity:0.95; filter:drop-shadow(0 0 12px rgba(255,255,255,0.12));">

             <g transform="scale(1.3)"></g>

            <style>
                .node {
                fill: rgba(255,255,255,0.05);
                stroke: rgba(255,255,255,0.25);
                stroke-width: 3;
                rx: 12;
                }
                .text {
                fill: #F1F3F5;
                font-size: 22px;
                font-family: Inter, sans-serif;
                font-weight: 600;
                text-anchor: middle;
                }
                .arrow {
                stroke: #FFBE0B;
                stroke-width: 6;
                marker-end: url(#arrowhead);
                }
            </style>

            <defs>
                <marker id="arrowhead" markerWidth="8" markerHeight="8"
                        refX="4" refY="4" orient="auto">
                <polygon points="0 0, 8 4, 0 8" fill="#FFBE0B"/>
                </marker>
            </defs>

            <!-- Triangle Nodes -->
            <rect x="230" y="40" width="140" height="60" class="node"/>
            <text x="300" y="80" class="text">Stability</text>

            <rect x="40" y="400" width="160" height="60" class="node"/>
            <text x="120" y="440" class="text">Wind</text>

            <rect x="400" y="400" width="160" height="60" class="node"/>
            <text x="480" y="440" class="text">Surface Flux</text>

            <!-- Arrows -->
            <line x1="300" y1="100" x2="120" y2="400" class="arrow"/>
            <line x1="300" y1="100" x2="480" y2="400" class="arrow"/>
            <line x1="120" y1="460" x2="480" y2="460"
                    stroke="rgba(255,255,255,0.18)"
                    stroke-width="4"/>

            <!-- Emphasise Dominance -->
            <text x="300" y="300" class="text"
                    style="font-size:22px; fill:#ffef0b;">Dominant Control</text>

            </svg>
        </div>

        </section>

      <!-- SLIDE 9: LIMITATIONS -->
        <section data-transition="fade"
                style="position:absolute; top:0; left:0; width:100%; height:100%;">

        <div style="position:absolute; top:20px; left:20px;">
            <h2>Limitations</h2>
            <h3 style="font-size:0.9em; color:var(--muted); margin-top:4px;">
            What our model does not capture (yet)
            </h3>
        </div>

        <div style="position:absolute; top:180px; left:-80px;">
            
            <svg width="1200" height="750" viewBox="0 0 800 500"
                xmlns="http://www.w3.org/2000/svg"
                style="opacity:0.95; filter:drop-shadow(0 0 10px rgba(255,255,255,0.12));">

         <g transform="scale(1.5)"></g>

            <style>
                .col {
                fill: rgba(255,255,255,0.05);
                stroke: rgba(255,255,255,0.25);
                stroke-width: 2;
                rx: 10;
                }
                .label {
                fill: #F1F3F5;
                font-size: 18px;
                font-family: Inter, sans-serif;
                font-weight: 600;
                }
                .thin {
                stroke: rgba(255,255,255,0.2);
                stroke-width: 2;
                }
                .plume {
                stroke: #3A86FF;
                stroke-width: 3;
                fill: none;
                }
            </style>

            <!-- 1D Column -->
            <rect x="70" y="80" width="100" height="250" class="col"/>
            <text x="65" y="60" class="label">1D Column</text>

            <line x1="70" y1="150" x2="170" y2="150" class="thin"/>
            <line x1="70" y1="210" x2="170" y2="210" class="thin"/>

            <!-- Arrow up (surface flux) -->
            <line x1="120" y1="330" x2="120" y2="270"
                    stroke="#FFBE0B" stroke-width="6" marker-end="url(#arrowhead)"/>

            <!-- Real 3D atmosphere -->
            <rect x="320" y="80" width="220" height="250" class="col"
                    style="stroke:rgba(255,255,255,0.4); fill:rgba(255,255,255,0.03);"/>

            <text x="315" y="60" class="label">Real Atmosphere</text>

            <!-- Turbulent plumes -->
            <path d="M360 310 C350 250, 380 200, 360 150" class="plume"/>
            <path d="M420 310 C430 240, 410 190, 440 130" class="plume"/>
            <path d="M480 310 C470 250, 520 200, 500 150" class="plume"/>

            <!-- Clouds / heterogeneity -->
            <ellipse cx="420" cy="110" rx="40" ry="20"
                    fill="rgba(255,255,255,0.15)"/>
            <ellipse cx="490" cy="120" rx="35" ry="18"
                    fill="rgba(255,255,255,0.15)"/>

            <defs>
                <marker id="arrowhead" markerWidth="6" markerHeight="6"
                        refX="3" refY="3" orient="auto">
                <polygon points="0 0, 6 3, 0 6" fill="#FFBE0B"/>
                </marker>
            </defs>

            </svg>
        </div>

        <div class="card"
            style="position:absolute; top:180px; right:-40px; width:700px;
                    padding:1rem 1.2rem; font-size:0.78em;">

            <div class="card-header" style="font-size:0.75em;">Key Limitations</div>

            <ul style="margin-top:8px; line-height:1.4;">
            <li><strong>1D framework</strong>: no horizontal variability, advection, or mesoscale flows.</li>
            <li><strong>Simple turbulence closure</strong>: first-order K-theory cannot capture non-local plumes or entrainment bursts.</li>
            <li><strong>Idealised forcing</strong>: prescribed surface heat flux and wind fields limit realism.</li>
            <li><strong>No moisture, radiation, or cloud feedbacks</strong> → missing key ABL processes.</li>
            <li><strong>Inversion sharpness</strong> depends on vertical resolution and diffusion scheme.</li>
            </ul>
        </div>

        </section>

      <!-- SLIDE 11: THANK YOU -->
      <section data-transition="fade">
        <div class="centered">
          <div class="pill">
            <div class="pill-dot"></div>
            End of presentation
          </div>

          <h2 style="margin-top:1.5rem;">Thank you</h2>
          <h3 class="muted">MTH3035 Mathematics Group Project</h3>


          <div class="btn-outline">
            <span class="icon">↔︎</span>
            Use <strong>←</strong> and <strong>→</strong> to move between slides
          </div>
        </div>
      </section>

    </div>
  </div>

  <!-- Reveal.js --><!-- center: false, -->
  <script src="https://unpkg.com/reveal.js/dist/reveal.js"></script>
  <script>
    Reveal.initialize({
      hash: true,
      transition: "fade",
      transitionSpeed: "fast",
      controls: true,
      progress: true,
      slideNumber: true,

        width: 1480,
        height: 920,
        margin: 0.04,       
        minScale: 0.3,
        maxScale: 1.0
    });
  </script>
</body>
</html>